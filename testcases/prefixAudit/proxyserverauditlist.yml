config:
    name: 前缀审核列表
    base_url: ${ENV(HOST)}
#    variables: {
#        account: "${ENV(adminaccount)}",
#        password: "${ENV(adminpassword)}",
##        session: "${get_session($account, $password)}",
#        prefix: "88.502.99988"
#    }
    verify: false
    export: ["prefixauditid"]
teststeps:
-   name: 前缀审核列表
    request:
        cookies:
            SESSION: $adminSession
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9
            Connection: keep-alive
#            Cookie: SESSION=NTQwNDJiZGQtZDRjMy00OGNhLWIxZTYtOGVkYTBkMDliYWMy
#            Host: 139.198.115.70:8000
#            Referer: http://139.198.115.70:8000/snms/ui/proxyserver/prefix/audit/pageQuery
            User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36
                (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36
        method: GET
        params:
            cache: '1663920502544'
            currentPage: '1'
            entNameCn: ''
            escrowOrgName: ''
            order: ''
            orderProp: ''
            prefix: $prefix
        url: /api/proxyserver/prefix/audit/pageQuery
    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json
    -   eq:
        - body.message
        - success
    -   eq:
        - body.status
        - 1
#    -   eq:
#        - body.data.content[0].id
#        - 406
    extract:
        prefixauditid: "body.data.content[0].id"
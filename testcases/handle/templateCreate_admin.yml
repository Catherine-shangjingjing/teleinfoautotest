config:
    name: 数据模版创建
    base_url: ${ENV(HOST)}

#    variables: {
#        prefix: "88.502.119",
#        version: "zjauto${get_random_param(1,10000,1)}",
#        acconunt: "admin22",
#        password: "Admin@123"
#    }
    verify: false
teststeps:
-   name: 数据模板创建
    setup_hooks:
        - ${setup_hook_example1()}
    request:
        cookies:
            SESSION: $adminSession
        headers:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate
            Accept-Language: zh-CN,zh;q=0.9
            Connection: keep-alive
            Content-Length: '567'
            Content-Type: application/json
#            Cookie: SESSION=${get_cookie1()}
#            Host: 139.198.115.70:8000
#            Origin: http://139.198.115.70:8000
#            Referer: http://139.198.115.70:8000/snms/ui/identityv2/template
            User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36
                (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
        json:
            description: test
            handle: ''
            id: ''
            industryCategory: C
            industrySpecific: '15'
            industrySubclass: '1530'
            industryTrade: '153'
            items:
            -   authorizationKey: ''
                idIndex: 2000
                idType: terminalType
                metadata:
                    maxLength: 65536
                    minLength: 0
                    type: string
                metadataId: null
                name: 终端类型
                required: false
                state: 1
            -   authorizationKey: ''
                idIndex: 2001
                idType: subject
                metadata:
                    maxLength: 65536
                    minLength: 0
                    type: string
                metadataId: null
                name: 所属主体
                required: false
                state: 1
            -   authorizationKey: ''
                idIndex: 2002
                idType: useFor
                metadata:
                    maxLength: 65536
                    minLength: 0
                    type: string
                metadataId: null
                name: 用途
                required: false
                state: 1
            -   authorizationKey: ''
                idIndex: 2003
                idType: serOrImei
                metadata:
                    maxLength: 65536
                    minLength: 0
                    type: string
                metadataId: null
                name: 串号或IMEI
                required: false
                state: 1
            -   authorizationKey: ''
                idIndex: 2004
                idType: licenseNo
                metadata:
                    maxLength: 65536
                    minLength: 0
                    type: string
                metadataId: null
                name: 进网许可证编号
                required: false
                state: 1
            -   authorizationKey: ''
                idIndex: 2005
                idType: licenseSign
                metadata:
                    maxLength: 65536
                    minLength: 0
                    type: string
                metadataId: null
                name: 进网许可标志序号
                required: false
                state: 1
            -   authorizationKey: ''
                editable: true
                idIndex: 2006
                idType: autotest
                metadata:
                    maxLength: 10000
                    minLength: 0
                    type: string
                metadataId: null
                name: 数据模板测试
                required: false
                state: 1
                whichClicked: []
            prefix: ${prefix}
            type: 1
            version: ${version}
        method: POST
        url: /api/v5/identity/template

    validate:
    -   eq:
        - status_code
        - 200
    -   eq:
        - headers.Content-Type
        - application/json
    -   eq:
        - body.message
        - success
    -   eq:
        - body.data
        - true
